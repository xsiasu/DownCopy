<section id="section-{{section.id}}">
  <div class="swiper mySwiper" dir="rtl">
    <div class="swiper-wrapper">
      {% for block in section.blocks %}
        {% if block.settings.mobile_image %}
          <div
            class="swiper-slide mobile--image"
          >
            {{ block.settings.mobile_image | image_url: width: 3840 | image_tag: loading: 'lazy' }}
          </div>
        {% endif %}

        {%- if block.settings.image -%}
          <div
            class="swiper-slide desktop--image shadow-kim"
          >
            <div class="image--area">
              {{ block.settings.image | image_url: width: 3840 | image_tag: loading: 'lazy' }}
            </div>
            <div class="text--area">
              <p class="heading">{{ block.settings.heading | escape }}</p>
              <p class="sub--heading">{{ block.settings.subheading | escape }}</p>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
    <!-- Add Pagination -->
    <div class="swiper-pagination"></div>
    <!-- Add Arrows -->
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
  </div>
</section>

<style>
  * {
    box-sizing: border-box;
  }
  .swiper {
    margin: 50px 0;
    overflow: hidden;
    width: 100%;
    height: 100%;
    padding: 0 50px;
  }

  .swiper-slide {
    text-align: center;
    font-size: 18px;
    background: red;
    display: flex;
    justify-content: center;
    align-items: center;
    background: red;
    overflow: hidden;
    border-radius: 10px;
  }

  .swiper-slide::after {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: calc(1 + var(--z-index-base));
    pointer-events: none;
    content: '';
    background: linear-gradient(to top, rgba(0, 0, 0, 30%) 0%, rgba(255, 255, 255, 0%) 100%);
  }

  .shadow-kim {
    box-shadow: 0 5px 5px 0 rgba(0, 0, 0, 20%);
  }

  .swiper-slide img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  .swiper-pagination {
    position: static;
    margin-top: 10px;
  }
  .swiper-button-next,
  .swiper-button-prev {
    display: block !important;
    color: rgba(var(--color-foreground), 0.75);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    cursor: pointer;
    outline: 0px;
    -webkit-appearance: none;
    appearance: none;
    width: 40px;
    height: 40px;
    border-radius: 100%;
    border: 1px solid rgba(255, 255, 255, 0.7);
    background-color: #0003;
  }

  @media (min-width: 992px) {
    .mobile--image {
      display: none;
    }
    .desktop--image {
      display: block;
    }
    .text--area {
      width: 100%;
      position: absolute;
      bottom: 0;
      z-index: 10;
      padding: 25px;
    }
    .text--area .heading {
      color: #fff;
      font-weight: bold;
      overflow: hidden;
      text-overflow: ellipsis;
      word-break: break-word;
      word-wrap: normal;
      white-space: nowrap;
      font-size: 23px;
    }
    .text--area .sub--heading {
      color: #fff;
      overflow: hidden;
      text-overflow: ellipsis;
      word-break: break-word;
      word-wrap: normal;
      white-space: nowrap;
      font-size: 15px;
    }
  }
</style>
<!-- Swiper JS -->

<script>
  new Swiper('.mySwiper', {
    direction: 'horizontal',
    loop: true,
    slidesPerView: 3,
    spaceBetween: 30,
    centerSlides: true,
    // If we need pagination
    pagination: {
      el: '.swiper-pagination',
    },

    // Navigation arrows
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
  });
</script>

{% schema %}
{
  "name": "Slideshow-swiper-kim",
  "class": "shopify-section-----",
  "max_blocks": 5,
  "settings": [
    {
      "type": "checkbox",
      "id": "show_fullscreen",
      "label": "Show full-screen images",
      "info": "If enabled, images will be resized to fit the entire screen.",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_arrow",
      "label": "Show bottom arrow",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "autoplay",
      "label": "Auto rotate between slides",
      "default": true
    },
    {
      "type": "range",
      "id": "cycle_speed",
      "min": 3,
      "max": 8,
      "step": 1,
      "unit": "sec",
      "label": "Change slides every",
      "default": 5
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Button text",
      "default": "#363636"
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image",
          "info": "1560 x 1050px jpg recommended"
        },
        {
          "type": "image_picker",
          "id": "mobile_image",
          "label": "Mobile image",
          "info": "750 x 1100px jpg recommended. If none is set, desktop image will be cropped."
        },
        {
          "type": "checkbox",
          "id": "apply_overlay",
          "label": "Apply overlay on image",
          "info": "This can improve text visibility.",
          "default": true
        },
        {
          "type": "select",
          "id": "content_position",
          "label": "Desktop content position",
          "options": [
            {
              "value": "middleLeft",
              "label": "Middle left"
            },
            {
              "value": "middleCenter",
              "label": "Middle center"
            },
            {
              "value": "bottomLeft",
              "label": "Bottom left"
            },
            {
              "value": "bottomCenter",
              "label": "Bottom center"
            }
          ],
          "default": "bottomLeft"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "heading",
          "default": "Heading title"
        },
        {
          "type": "text",
          "id": "subheading",
          "label": "Sub-heading title",
          "default": "Slide title"
        },

        {
          "type": "header",
          "content": "Button 1"
        },
        {
          "type": "text",
          "id": "button_1_text",
          "label": "Text"
        },
        {
          "type": "url",
          "id": "button_1_link",
          "label": "Link"
        },
        {
          "type": "header",
          "content": "Button 2"
        },
        {
          "type": "text",
          "id": "button_2_text",
          "label": "Text"
        },
        {
          "type": "url",
          "id": "button_2_link",
          "label": "Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "category": "Image",
      "name": "Slideshow-swiper-kim",
      "settings": {},
      "blocks": [
        {
          "type": "image"
        },
        {
          "type": "image"
        }
      ]
    }
  ]
}
{% endschema %}
